<md-sidenav class="menu md-sidenav-left md-whiteframe-z2" layout="column"
  ng-class="{ 'under-mask': !conversation.isMenuOpen } "
  md-component-id="menu"
  md-is-open="conversation.isMenuOpen"
  md-is-locked-open="$mdMedia('gt-sm')">
  <div flex layout="column" style="overflow:auto;">
    <div class='logo'>LeanMessage</div>
    <md-list flex>
      <md-divider></md-divider>
      <md-subheader class="md-no-sticky">群聊</md-subheader>
      <md-list-item
        ng-click="conversation.changeTo(conversation.defaultConversation.id)"
        ng-class="{'active': conversation.defaultConversation.id === conversation.$state.params.clientId}">
        <p>{{::conversation.defaultConversation.name}}</p>
      </md-list-item>
      <md-divider></md-divider>
      <md-subheader class="md-no-sticky">单聊</md-subheader>
      <md-list-item ng-repeat="conv in conversation.conversations"
        ng-click="conversation.changeTo('@' + conv)">
        <p> {{ conv }} </p>
      </md-list-item>
    </md-list>
  </div>
  <md-divider></md-divider>
  <div class="user" layout layout-align="center center" layout-padding>
    <img gravatar-src-once="conversation.userService.user.email" gravatar-size="40">
    <span flex>{{::conversation.userService.user.id}}</span>
    <md-button class="md-icon-button" aria-label="Logout" ui-sref="login">
      <md-icon>exit_to_app</md-icon>
    </md-button>
  </div>
</md-sidenav>

<div layout flex ui-view>
</div>
